<div class="row">
  <!-- Task Assignment Table -->
  <div class="col-md-8">
    <div class="card shadow-sm rounded-3">
      <!-- Card Header -->
      <div class="card-header bg-white text-dark fw-bold">
        <h5 class="mb-0">Assigned Tasks</h5>
      </div>
      <!-- Card Body -->
      <div class="card-body">
        <div class="table-responsive">
          <!-- Task Table -->
          <table class="table table-bordered table-striped table-hover rounded-3 overflow-hidden">
            <thead class="table-dark">
              <tr>
                <th>ID</th>
                <th>Task Name</th>
                <th>Employee Assigned</th>
                <th>Status</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <!-- Loading Spinner Row -->
              <tr *ngIf="loading">
                <td colspan="5" class="text-center">
                  <div class="spinner-grow text-muted"></div>
                  <div class="spinner-grow text-primary"></div>
                  <div class="spinner-grow text-success"></div>
                  <div class="spinner-grow text-info"></div>
                  <div class="spinner-grow text-warning"></div>
                  <div class="spinner-grow text-danger"></div>
                </td>
              </tr>
              <!-- Dynamic Data Rows -->
              <tr *ngFor="let task of userTasks">
                <td>{{ task.id }}</td>
                <td>{{ task.task_title }}</td>
                <td>{{ task.user_name }}</td>
                <td>{{ task.status }}</td>
                <td>
                  <!-- Delete Button -->
                  <button
                    type="button"
                    class="btn btn-danger btn-sm rounded-pill mx-2"
                    (click)="unassignTask(task.id)"
                  >
                    Delete
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Task Assignment Form -->
  <div class="col-md-4">
    <div class="card shadow-sm rounded-3">
      <!-- Card Header -->
      <div class="card-header bg-white text-dark fw-bold">
        <h5 class="mb-0">Assign a Task</h5>
      </div>
      <!-- Card Body -->
      <div class="card-body">
        <form [formGroup]="myForm" (ngSubmit)="formAssignTask(myForm)">
          <div class="row">
            <!-- Task ID Field -->
            <div class="col-md-6 mb-3">
              <label for="projectId" class="form-label fw-bold">Task ID</label>
              <select class="form-select" id="projectId" formControlName="task_id">
                <option value="" selected>--Select Task--</option>
                <option *ngFor="let task of  tasks" [value]="task.id" >
                  {{task.title}}
                </option>
              </select>
            </div>
            <!-- Employee ID Field -->
            <div class="col-md-6 mb-3">
              <label for="user_id" class="form-label fw-bold">Employee ID</label>
              <select class="form-select" id="user_id" formControlName="user_id">
                <option value="" selected>--Select Employee--</option>
                <option *ngFor="let user of users" [value]="user.id">
                  {{ user.name}}
                </option>
              </select>
            </div>
          </div>
          <!-- Assign Button -->
          <div class="d-flex justify-content-end">
            <button type="submit" class="btn btn-primary rounded-pill">Assign</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
